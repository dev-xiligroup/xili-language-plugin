function getCurrentLanguage(){return document.querySelector("[name=xili_language_set]").value}wp.apiFetch.use(function(e,t){return void 0===e.url&&(void 0===e.data?e.path+=(e.path.indexOf("?")>=0?"&lang=":"?lang=")+getCurrentLanguage():e.data.lang=getCurrentLanguage()),t(e)}),jQuery(document).ready(function(e){e(".main-language, .other-language, .renew-perma").change(function(){const e=wp.data.select,t=wp.data.dispatch,n=wp.data.subscribe;let a=null;const o=new Promise(function(t,o){a=n(function(){const n=e("core/editor").didPostSaveRequestSucceed(),a=e("core/editor").didPostSaveRequestFail();(n||a)&&(a?o():t())})});if(location.pathname.match(/post-new.php/gi)){const t=e("core/editor").getEditedPostAttribute("title"),n=e("core/editor").getEditedPostAttribute("content"),a=e("core/editor").getEditedPostAttribute("excerpt");""===t&&""===n&&""===a&&(-1!=location.search.indexOf("new_lang")?window.location.search=window.location.search.replace(/(?:new_lang=[^&]*)(&)?(.*)/,"new_lang="+this.value+"$1$2"):window.location.search=window.location.search+(-1!=window.location.search.indexOf("?")?"&":"?")+"new_lang="+this.value)}t("core/editor").savePost(),o.then(function(){a(),window.location.reload()},function(){a()}).catch(function(){a()})})});